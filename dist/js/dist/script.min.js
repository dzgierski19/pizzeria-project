"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var select={templateOf:{menuProduct:"#template-menu-product"},containerOf:{menu:"#product-list",cart:"#cart"},all:{menuProducts:"#product-list > .product",menuProductsActive:"#product-list > .product.active",formInputs:"input, select"},menuProduct:{clickable:".product__header",form:".product__order",priceElem:".product__total-price .price",imageWrapper:".product__images",amountWidget:".widget-amount",cartButton:'[href="#add-to-cart"]'},widgets:{amount:{input:'input[name="amount"]',linkDecrease:'a[href="#less"]',linkIncrease:'a[href="#more"]'}}},classNames={menuProduct:{wrapperActive:"active",imageVisible:"active"}},settings={amountWidget:{defaultValue:1,defaultMin:1,defaultMax:9}},templates={menuProduct:Handlebars.compile(document.querySelector(select.templateOf.menuProduct).innerHTML)},Product=function(){function a(e,t){_classCallCheck(this,a);var n=this;n.id=e,n.data=t,n.renderInMenu(),n.initAccordion(),console.log("new Product:",n)}return _createClass(a,[{key:"renderInMenu",value:function(){var e=this,t=templates.menuProduct(e.data);e.element=utils.createDOMFromHTML(t),document.querySelector(select.containerOf.menu).appendChild(e.element)}},{key:"initAccordion",value:function(){var n=this;n.element.querySelector(select.menuProduct.clickable).addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(select.all.menuProductsActive);null!=t&&t!=n.element&&t.classList.remove(classNames.menuProduct.wrapperActive),n.element.classList.toggle(classNames.menuProduct.wrapperActive)})}}]),a}(),app={initMenu:function(){var e=this;for(var t in console.log("thisApp.data:",e.data),e.data.products)new Product(t,e.data.products[t])},initData:function(){this.data=dataSource},init:function(){var e=this;console.log("*** App starting ***"),console.log("thisApp:",e),console.log("classNames:",classNames),console.log("settings:",settings),console.log("templates:",templates),e.initData(),e.initMenu()}};app.init();
//# sourceMappingURL=script.min.js.map
