{"version":3,"sources":["script.js"],"names":["select","templateOf","menuProduct","containerOf","menu","cart","all","menuProducts","menuProductsActive","formInputs","clickable","form","priceElem","imageWrapper","amountWidget","cartButton","widgets","amount","input","linkDecrease","linkIncrease","classNames","wrapperActive","imageVisible","settings","defaultValue","defaultMin","defaultMax","templates","Handlebars","compile","document","querySelector","innerHTML","Product","id","data","thisProduct","renderInMenu","getElements","initAccordion","initOrderForm","processOrder","generatedHTML","element","utils","createDOMFromHTML","menuContainer","appendChild","accordionTrigger","querySelectorAll","addEventListener","event","preventDefault","activeProduct","classList","remove","toggle","app","initMenu","thisApp","console","log","productData","products","initData","dataSource","init"],"mappings":"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","sourcesContent":["/* global Handlebars, utils, dataSource */ // eslint-disable-line no-unused-vars\r\n{\r\n  'use strict';\r\n \r\n  const select = {\r\n    templateOf: {\r\n      menuProduct: '#template-menu-product',\r\n    },\r\n    containerOf: {\r\n      menu: '#product-list',\r\n      cart: '#cart',\r\n    },\r\n    all: {\r\n      menuProducts: '#product-list > .product',\r\n      menuProductsActive: '#product-list > .product.active',\r\n      formInputs: 'input, select',\r\n    },\r\n    menuProduct: {\r\n      clickable: '.product__header',\r\n      form: '.product__order',\r\n      priceElem: '.product__total-price .price',\r\n      imageWrapper: '.product__images',\r\n      amountWidget: '.widget-amount',\r\n      cartButton: '[href=\"#add-to-cart\"]',\r\n    },\r\n    widgets: {\r\n      amount: {\r\n        input: 'input[name=\"amount\"]',\r\n        linkDecrease: 'a[href=\"#less\"]',\r\n        linkIncrease: 'a[href=\"#more\"]',\r\n      },\r\n    },\r\n  };\r\n  \r\n  const classNames = {\r\n    menuProduct: {\r\n      wrapperActive: 'active',\r\n      imageVisible: 'active',\r\n    },\r\n  };\r\n  \r\n  const settings = {\r\n    amountWidget: {\r\n      defaultValue: 1,\r\n      defaultMin: 1,\r\n      defaultMax: 9,\r\n    }\r\n  };\r\n \r\n  const templates = {\r\n    menuProduct: Handlebars.compile(document.querySelector(select.templateOf.menuProduct).innerHTML),\r\n  };\r\n  \r\n  class Product{\r\n    constructor(id, data){\r\n      const thisProduct = this;\r\n      thisProduct.id = id;\r\n      thisProduct.data = data;\r\n      thisProduct.renderInMenu();\r\n      thisProduct.getElements();\r\n      thisProduct.initAccordion();\r\n      thisProduct.initOrderForm();\r\n      thisProduct.processOrder();\r\n      //console.log('new Product:', thisProduct);\r\n    }\r\n    \r\n    renderInMenu(){\r\n      const thisProduct = this;\r\n      /* Generate HTML based on template */\r\n      const generatedHTML = templates.menuProduct(thisProduct.data);\r\n      /* create element using utils.createElementFromHTML */\r\n      thisProduct.element = utils.createDOMFromHTML(generatedHTML);\r\n      /* find menu container */\r\n      const menuContainer = document.querySelector(select.containerOf.menu);\r\n      /* add element to menu */\r\n      menuContainer.appendChild(thisProduct.element);\r\n    }\r\n    \r\n    getElements(){\r\n      const thisProduct = this;\r\n\r\n      thisProduct.accordionTrigger = thisProduct.element.querySelector(select.menuProduct.clickable);\r\n      thisProduct.form = thisProduct.element.querySelector(select.menuProduct.form);\r\n      thisProduct.formInputs = thisProduct.form.querySelectorAll(select.all.formInputs);\r\n      thisProduct.cartButton = thisProduct.element.querySelector(select.menuProduct.cartButton);\r\n      thisProduct.priceElem = thisProduct.element.querySelector(select.menuProduct.priceElem);\r\n    }\r\n\r\n    initAccordion(){\r\n      const thisProduct = this;\r\n\r\n      thisProduct.accordionTrigger.addEventListener('click', function(event) {\r\n        /* prevent default action for event */\r\n        event.preventDefault();\r\n        /* find active product (product that has active class) */\r\n        const activeProduct = document.querySelector(select.all.menuProductsActive);\r\n        // console.log(activeProduct);\r\n                /* if there is active product and it's not thisProduct.element, remove class active from it */\r\n        if (activeProduct != null && activeProduct != thisProduct.element) {\r\n          activeProduct.classList.remove(classNames.menuProduct.wrapperActive);\r\n        }\r\n        /* toggle active class on thisProduct.element */\r\n        thisProduct.element.classList.toggle(classNames.menuProduct.wrapperActive);\r\n      });\r\n    }\r\n    initOrderForm(){\r\n      const thisProduct = this;\r\n      // console.log('This is info that initOrderForm method was executed');\r\n    }\r\n    processOrder(){\r\n      const thisProduct = this;\r\n      // console.log('This is info that processOrder method was executed');\r\n    }\r\n  }\r\n\r\n  const app = {\r\n    initMenu: function() {\r\n      const thisApp = this;\r\n      console.log('thisApp.data:', thisApp.data);\r\n      for(let productData in thisApp.data.products){\r\n        new Product(productData, thisApp.data.products[productData]);\r\n      }\r\n    },\r\n    initData: function(){\r\n      const thisApp = this;\r\n      thisApp.data = dataSource;\r\n    },\r\n    init: function(){\r\n      const thisApp = this;\r\n      console.log('*** App starting ***');\r\n      console.log('thisApp:', thisApp);\r\n      console.log('classNames:', classNames);\r\n      console.log('settings:', settings);\r\n      console.log('templates:', templates);\r\n      thisApp.initData();\r\n      thisApp.initMenu();\r\n    },\r\n  };\r\n  app.init();\r\n}"],"file":"script.dev.js"}